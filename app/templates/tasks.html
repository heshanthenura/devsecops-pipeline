{% extends "base.html" %} {% block content %}
<h2>My Tasks</h2>

<div class="card mb-4">
  <h3 style="margin-top: 0;">Add New Task</h3>
  <form method="POST" action="/tasks/add">
    <input name="title" placeholder="Task title" required />
    <textarea name="description" placeholder="Description (optional)"></textarea>
    <button type="submit">Add Task</button>
  </form>
</div>

<h3>All Tasks</h3>
{% if tasks %}
<div class="grid">
  {% for task in tasks %}
  <div class="card" style="padding: 24px;">
    <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 12px;">
      <div style="flex: 1;">
        <h3 style="margin: 0 0 8px 0; font-size: 18px;">{{ task.title }}</h3>
        {% if task.description %}
        <p style="color: #6b7280; margin: 0 0 12px 0; font-size: 14px;">{{ task.description }}</p>
        {% endif %}
      </div>
      <span
        style="
          padding: 4px 12px;
          border-radius: 12px;
          font-size: 12px;
          font-weight: 600;
          text-transform: uppercase;
          {% if task.status == 'Completed' %}
          background: #d1fae5;
          color: #065f46;
          {% else %}
          background: #fef3c7;
          color: #92400e;
          {% endif %}
        "
      >
        {{ task.status }}
      </span>
    </div>
    <div style="display: flex; gap: 8px; flex-wrap: wrap;">
      {% if task.status != 'Completed' %}
      <a
        href="/tasks/update/{{ task.id }}?status=Completed"
        class="btn btn-sm"
        style="background: #10b981;"
      >
        âœ“ Complete
      </a>
      {% endif %}
      <a
        href="/tasks/delete/{{ task.id }}"
        class="btn btn-sm btn-danger"
        onclick="return confirm('Are you sure you want to delete this task?')"
      >
        Delete
      </a>
    </div>
  </div>
  {% endfor %}
</div>
{% else %}
<div class="card text-center">
  <p style="color: #6b7280; font-size: 16px; margin: 0;">
    No tasks yet! Create your first task above.
  </p>
</div>
{% endif %} {% endblock %}
